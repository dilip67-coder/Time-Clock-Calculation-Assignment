<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
	function passValue(id){
		
		console.log(id)
	document.getElementById("updateId").value=id; 
		}

</script>
</head>
<body class="container-fluid">

<input type="hidden" id="deleteId" name="delete" value=""/>

<table class="table table-striped" style="width: 100%; align-content: center;">
  <thead>
    <tr>
		<th><input type="button" id="btn" value="New " style="width: 100%;" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop"/></th>		
	</tr>
		<tr>
  </thead>
</table>
<table class="table table-striped">
  <thead>
    <tr>
		<th>Id</th>
		<th>Name</th>
		<th>Enter Time</th>
		<th>Exit Time</th>
		<th>Total Time Spend</th>
		<th>Actions </th>
	</tr>
  </thead>
  <tbody>

    <tr th:each="data : ${entryData}">
      <td id="id" th:text=${data.id}></td>
      <td th:text=${data.newEntryName}>  </td>
      <td th:text=${data.newEntryTime}> </td>
      <td th:text=${data.newExitTime}> </td>
      <td > <h7 th:text=${data.duration}></h7> </td>
            <td> <input type="button" th:onclick="|passValue('${data.id}');|" value="Update" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#updateModal"/>&nbsp&nbsp
      
            	<a th:href="@{/delete/{id}(id=${data.id})}"><input type="button" value="Delete"  class="btn btn-danger"/></a>
            </td>
    </tr>
  </tbody>
</table>

<!-- New Modal Data -->
<!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Enter Name for new Entry</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
        
        	<form action="save">
		Enter Name: <input type = "text" name="newEntryName"><br>
		Enter Entry Time: <input type="datetime-local" name="newEntryTime" /><br>
		Enter Exit Time: <input type="datetime-local" name="newExitTime" /><br>
		<input type="submit" value="Submit" data-bs-dismiss="modal" class="btn btn-primary">
	</form>
        
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

<!-- Finish New Modal Data -->
 <!-- Update Modal Data -->
<!-- Modal -->
  <div class="modal fade" id="updateModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Enter Name for new Entry</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
       
        	<form action="update">
        Id: <input type="text" name="updateId" id="updateId" value="" /> <!-- <h6 id="h6"></h6> -->
		Enter Name: <input type = "text" name="updateEntryName"><br>
		Enter Entry Time: <input type="datetime-local" name="updateEntryTime" /><br>
		Enter Exit Time: <input type="datetime-local" name="updateExitTime" /><br>
		<input type="submit" value="Submit" data-bs-dismiss="modal" class="btn btn-primary">
	</form>
        
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Finish Update Modal Data -->

</body>
</html>